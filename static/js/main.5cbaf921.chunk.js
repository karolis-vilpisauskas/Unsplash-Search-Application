(this["webpackJsonpunsplash-search-application"]=this["webpackJsonpunsplash-search-application"]||[]).push([[0],{25:function(e,t,n){e.exports=n(66)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),i=n(1),l=n(4),s=n(23),u=n(8),p=n(7);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={page:2,total_pages:100,items:[],item:{}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={items:JSON.parse(sessionStorage.getItem("queries"))||[],item:"",active:!1};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={active:!1},h=Object(l.c)({images:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_IMAGES":return f({},e,{items:t.payload,page:2});case"SEARCH_IMAGES":return f({},e,{items:t.payload.data,total_pages:t.payload.total_pages,page:2});case"LOAD_MORE_IMAGES":return f({},e,{items:[].concat(Object(u.a)(e.items),Object(u.a)(t.payload)),page:e.page+1});default:return e}},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_QUERY":var n=[].concat(Object(u.a)(e.items),[e.item]);return sessionStorage.setItem("queries",JSON.stringify(n)),b({},e,{items:n});case"SET_QUERY":return b({},e,{item:t.payload});case"DELETE_QUERY":var a=Object(u.a)(e.items);return a.splice(t.payload,1),sessionStorage.setItem("queries",JSON.stringify(a)),b({},e,{items:a});case"TOGGLE_QUERIES":return b({},e,{active:!e.active});default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADER":return y({},e,{active:!0});case"STOP_LOADER":return y({},e,{active:!1});default:return e}}}),j=[s.a],S=Object(l.e)(h,{},Object(l.d)(l.a.apply(void 0,j))),w=function(e){return function(t){t({type:"SET_QUERY",payload:e})}},_=(n(35),function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.queries.active}));return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Unsplash Image Search."),r.a.createElement("div",{id:"menuToggle",onClick:function(){e((function(e){e({type:"TOGGLE_QUERIES"})}))}},r.a.createElement("input",{type:"checkbox",defaultChecked:t}),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}),N=(n(36),function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("h5",null,"\xa9 2019 All Rights Reserved")))}),P=(n(37),n(38),n(39),n(5)),R=n.n(P),A=function(e){return function(t){return new Promise((function(n){return setTimeout(n,e,t)}))}},D=function(e){return function(t){t((function(e){e({type:"START_LOADER"})})),R.a.get("/search/photos?query=".concat(e,"&page=1&per_page=12")).then(A(900)).then((function(e){t({type:"SEARCH_IMAGES",payload:{data:e.data.results,total_pages:e.data.total_pages}}),t((function(e){e({type:"STOP_LOADER"})}))}))}},T=(n(57),function(e){var t=e.keyword,n=e.index,a=Object(i.b)();return r.a.createElement("div",{className:"list-item"},r.a.createElement("div",{onClick:function(){a(w(t)),a((function(e){e({type:"TOGGLE_QUERIES"})})),a(D(t))}},t),r.a.createElement("div",{onClick:function(){a(function(e){return function(t){t({type:"DELETE_QUERY",payload:e})}}(n))},className:"delete-list-item"},r.a.createElement("span",null,"x")))}),k=function(){var e=Object(i.c)((function(e){return e.queries.items})),t=e.map((function(e,t){return r.a.createElement(T,{keyword:e,key:t,index:t})}));return r.a.createElement("div",{className:"list"},r.a.createElement("h3",null,"Saved Searches"),0!==e.length?t:r.a.createElement("p",null,"No saved searches"))},I=function(){var e=Object(i.c)((function(e){return e.queries.active}))?"is-active":"";return r.a.createElement("div",{className:"".concat(e," sidebar")},r.a.createElement("div",{className:"list-wrapper"},r.a.createElement(k,null)))},L=(n(58),n(24)),q=(n(59),n(60),function(e){var t=e.style;return r.a.createElement("div",{className:"progressbar-wrapper",style:t},r.a.createElement("div",{className:"progressbar"},r.a.createElement("div",{className:"progress-style"})))}),G=(n(61),function(e){var t=e.title,n=e.src,a=e.url,c={backgroundImage:"url(".concat(n,")")};return r.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"image-grid-item"},r.a.createElement("div",{className:"grid-item-wrapper"},r.a.createElement("div",{className:"image",style:c},r.a.createElement("div",{className:"image-title"},r.a.createElement("p",null,t)))))}),U=(n(62),function(e){var t=e.type,n=e.label,a=e.action;return r.a.createElement("button",{className:"button",type:t,onClick:a},n)}),C=function(){var e=Object(a.useState)({grid:{opacity:1,transform:"translateY(0)"},bar:{opacity:0,transform:"translateY(-20px)"}}),t=Object(L.a)(e,2),n=t[0],c=t[1],o=Object(i.c)((function(e){return e.images.page})),l=Object(i.c)((function(e){return e.images.total_pages})),s=Object(i.c)((function(e){return e.images.items})),u=Object(i.c)((function(e){return e.loader.active})),p=Object(i.c)((function(e){return e.queries.item})),m=Object(i.b)();Object(a.useEffect)((function(){m((function(e){e((function(e){e({type:"START_LOADER"})})),R.a.get("/photos?page=1&per_page=12").then(A(900)).then((function(t){e({type:"FETCH_IMAGES",payload:t.data}),e((function(e){e({type:"STOP_LOADER"})}))}))}))}),[m]),Object(a.useEffect)((function(){var e=u?[0,1]:[1,0],t=u?["-20px",0]:[0,"-20px"];c({grid:{opacity:e[0],transform:"translateY(".concat(t[0],")")},bar:{opacity:e[1],transform:"translateY(".concat(t[1],")")}})}),[u]);var f="undefined"!==typeof s&&s.length>0,E=s.map((function(e){return r.a.createElement(G,{url:e.urls.full,key:e.id,src:e.urls.small,title:e.description})}));return r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement(q,{style:n.bar}),r.a.createElement("div",{className:"image-grid",style:n.grid},f?E:r.a.createElement("h2",null,"Oops! No images have been found.")),f&&s.length>=12&&l>=o?r.a.createElement(U,{label:"Load More",type:"button",action:function(){var e,t;m((e=o,t=p,function(n){var a=""===t?"/photos?page=".concat(e,"&per_page=12"):"/search/photos?query=".concat(t,"&page=").concat(e,"&per_page=12");R.a.get(a).then((function(e){var a=""===t?e.data:e.data.results;n({type:"LOAD_MORE_IMAGES",payload:a})}))}))}}):"")},x=function(){return r.a.createElement("div",{className:"content"},r.a.createElement(C,null))},Y=(n(63),n(64),function(e){var t=e.type,n=e.change,a=e.name,c=e.placeholder,o=e.value;return r.a.createElement("div",{className:"input-outter"},r.a.createElement("input",{className:"input",type:t,placeholder:c,name:a,onChange:function(e){n(e)},value:o}))}),M=function(){var e=Object(i.c)((function(e){return e.queries.item})),t=Object(i.b)();return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement(Y,{type:"text",name:"query",placeholder:"Search Unsplash...",change:function(e){t(w(e.target.value))},value:e})),r.a.createElement("div",{className:"button-wrapper"},r.a.createElement(U,{type:"button",label:"Search",action:function(){t(D(e))}}),r.a.createElement(U,{type:"button",action:function(){t((function(e){e({type:"SAVE_QUERY"})}))},label:"Save"})))},Q=function(){return r.a.createElement("section",{className:"main"},r.a.createElement("div",{className:"container"},r.a.createElement(M,null)),r.a.createElement("div",{className:"container"},r.a.createElement(x,null),r.a.createElement(I,null)))},J=function(){return r.a.createElement(i.a,{store:S},r.a.createElement(_,null),r.a.createElement(Q,null),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(65);R.a.defaults.baseURL="https://api.unsplash.com",R.a.defaults.headers.common.Authorization="Client-ID f3b520ccaeb4cd40c603ad9d88ebe88fa42f049ac42e5c4b5f95b0f4f8d15379",o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.5cbaf921.chunk.js.map